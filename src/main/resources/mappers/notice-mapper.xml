<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="noticeMapper">

	
	<select id="selectNotice" parameterType="_int" >
		select * from notice where noticeno = #{value}
	</select> 
	
	<select id="selectList" resultType="Notice">
		select * from notice 
		order by noticeno desc
	</select>
	
<!-- 	<select id="getlistCount" resultType="_int">
		select noticecount(*) from notice
	</select>
	
	<select id="searchTitle" parameterType="string" resultMap="resultNotice">
		select * from notice 
		where noticetitle like '%' || #{value} || '%'  
		order by noticeno desc
	</select> -->
	
	<!-- <select id="searchWriter" parameterType="string" resultMap="resultNotice">
		select * from notice 
		where noticewriter like '%' || #{value} || '%' 
		order by noticeno desc
	</select>
	
	
	<insert id="insertNotice" parameterType="Notice" >
		insert into notice 
		values ((select max(noticeno) from notice) + 1, 
				#{noticeTitle}, default, #{noticeWriter}, 
				#{noticeContent}
				<if test="originalFilePath != null">
				, #{originalFilePath}, #{renameFilePath}
				</if>
				<if test="originalFilePath == null">
				, null, null
				</if>
				)
	</insert>
	
	<delete id="deleteNotice" parameterType="_int">
		delete from notice where noticeno = #{value}
	</delete>
	
	<update id="updateNotice" parameterType="Notice" >
		update notice 
		set noticetitle = #{noticeTitle}, 
			noticecontent = #{noticeContent}
			<if test="originalFilePath != null">
			,
		    original_filepath = #{originalFilePath}, 
		    rename_filepath = #{renameFilePath} 
		    </if>
		where noticeno = #{noticeNo}							
	</update> -->
	 

































</mapper>